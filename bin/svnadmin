#!/usr/bin/env ruby

$LOAD_PATH.unshift File.dirname(__FILE__) + '/../lib'

require 'mockversion/environment'
require 'fileutils'

args = ARGV
command = args.shift.strip rescue 'help'

case command
when "--version"
  puts "MockVersion #{MockVersion::VERSION}"
when "help"
  puts "MockVersion - A mock for the svn command line, created to help tool development"
  puts ""
  puts "  Usage:"
  puts "    require 'mockversion'"
  puts "    `#{__FILE__} help`"
  puts "    => Mockversion - A mock for the svn command line, created to help tool development"
  puts ""
when "create"
  FileUtils.mkdir ".mockversion"
  FileUtils.mkdir ".mockversion/#{args.first}"
when "verify"
  if File.directory?(".mockversion/#{args.first}")
    puts "* Verified revision 0."
  else
    puts "Can't open"
    exit 1
  end

end
